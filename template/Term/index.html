{% extends 'base.html' %}

{% block title %}條款{% endblock %}

{% block css %}
{% endblock %}

{% block container %}
<ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/Term/Edit/0/">新增</a>
  </li>
</ol>

<div class="card mb-3">
  <div class="card-header">
    <i class="fas fa-table"></i>
    條款清單</div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered" id="TermTable" width="100%" cellspacing="0">
        <thead>
          <tr>
            <th>條款編號</th>
            <th>條款名稱</th>
            <th>備註說明</th>
            <th> </th>
          </tr>
        </thead>
        <tfoot>
          <tr>
            <th>條款編號</th>
            <th>條款名稱</th>
            <th>備註說明</th>
            <th> </th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  <div class="card-footer small text-muted">最後更新日期 {% now "SHORT_DATETIME_FORMAT" %}</div>
</div>
{% endblock %}

{% block foot %}Copyright © Cypress 2018{% endblock %}

{% block js %}
<script type="text/javascript">
  $(document).ready(function() {
      $('#TermTable').dataTable( {
          "ajax": {
                 "processing": true,
                 "url": "/Term/GetTermData/",
                 "dataSrc": ""
             },
         "language": {
                 "url": "/static/vendor/datatables/i18n/Chinese-traditional.lang"
             },
          "columns": [
              { "data": "fields.TermID" },
              { "data": "fields.TermName" },
              { "data": "fields.Remark" },
              {
                "data": "pk" ,
                render: function ( data, type, row ) {
                    if ( type === 'display' ) {
                      var retStr='<input type="button" class="btn btn-secondary" onclick="location.href=\'/Term/Edit/'+data+'/\';" value="編輯" />'
                      return retStr;
                    }
                    return data;
                },
              }
          ]
      } );
  } );
</script>
{% endblock %}
